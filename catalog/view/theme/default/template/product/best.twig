{% if best %}
<div id="category_recommend_products_list_2">
  <div brand="" data-ref="recomend2" class="goodsd-module j-goodsd-module-r j-r-2" ga_type="best_sellers" viewed="true">
    <h2 class="goodsd-module-h">Best Sellers</h2>
    <div class="c-recommend-goodsd ss">
      <div class="recommend-con">
        <div class="recommend-prev swiper-button-prev iconfont icon-left j-r-prev" id="bestPrev"></div>
        <div class="swiper-container swiper-container-horizontal j-r-swiper">
          <div class="swiper-wrapper" id="bestSwiper">
            {% for best in best %}
              <div class="swiper-slide j-recommend-item-493940 swiper-slide-active" style="width: 204px; margin-right: 15px;">
                <a href="index.php?route=product/product&path=20_26&product_id={{ best.product_id }}">
                  <img src="/image/{{ best.image }}"alt="" class="j-verlok-lazy loaded"/>
                </a>
                <p class="recommend-price">{{ best.price }}</p>
                <div class="recommend-rank">
                  <div class="c-star">
                    <div class="rating">
                        {% for i in 1..5 %}
                          <span class="fa fa-stack" style="margin-top: -8px"><i class="fa fa-star fa-stack-1x {{ best.ratingTotol < i ? 'off' }}"></i></span>
                        {% endfor %}
                    </div>
                    <!---->
                  </div> ({{ best.reviewsTotol }})
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
        <div class="recommend-next swiper-button-next iconfont icon-right j-r-next" id="bestNext"></div>
        <input type="hidden" id="num" value="1">
      </div>
    </div>
  </div>
</div>
{% endif %}

<script>
    $(function () {
        var size = {{ size }};
        if($('#num').val() == 1){
            $('#bestPrev').addClass("swiper-button-disabled");
        }
        if(size <= 5){
            $('#bestNext').addClass("swiper-button-disabled");
        }
    });
    $('#bestPrev').click(function () {
        var num = $('#num').val();
        num--;
        $('#bestSwiper').css('left',"-"+((num - 1) * 101.4)+"%");
        $('#num').val(num);
        $('#bestNext').removeClass("swiper-button-disabled");
        if(num == 1){
            $('#bestPrev').addClass('swiper-button-disabled');
        }
    });
    $('#bestNext').click(function () {
        var size = {{ size }};
        var num = $('#num').val();
        $('#bestSwiper').css('left',"-"+(num * 101.4)+"%");
        num++;
        $('#num').val(num);
        $('#bestPrev').removeClass("swiper-button-disabled");
        if (size/5 <= num){
            $('#bestNext').addClass("swiper-button-disabled");
        }
    });
</script>